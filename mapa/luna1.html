<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Fases de la Luna 2025-2026</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
            color: #333;
        }
        h1 {
            text-align: center;
            color: #2c3e50;
        }
        .container {
            background-color: white;
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 0 15px rgba(0, 0, 0, 0.1);
        }
        .moon-container {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin: 30px 0;
        }
        .moon-display {
            width: 300px;
            height: 300px;
            margin: 20px 0;
        }
        .date-display {
            font-size: 1.5em;
            margin: 15px 0;
            font-weight: bold;
            color: #2c3e50;
        }
        .phase-display {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #3498db;
        }
        .distance-display {
            font-size: 1em;
            color: #7f8c8d;
            margin-bottom: 20px;
        }
        .navigation {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }
        button {
            padding: 8px 15px;
            background-color: #3498db;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #2980b9;
        }
        .time-unit-buttons {
            display: flex;
            justify-content: center;
            gap: 10px;
            margin-bottom: 20px;
        }
        .time-unit-buttons button {
            background-color: #2c3e50;
        }
        .time-unit-buttons button.active {
            background-color: #3498db;
        }
        .legend {
            margin-top: 20px;
            padding: 10px;
            background-color: #ecf0f1;
            border-radius: 5px;
            font-size: 0.9em;
        }
        .super-moon {
            color: #e74c3c;
            font-weight: bold;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>Fases de la Luna 2025-2026</h1>
        
        <div class="time-unit-buttons">
            <button id="day-unit" class="active">Día</button>
            <button id="week-unit">Semana</button>
            <button id="month-unit">Mes</button>
            <button id="year-unit">Año</button>
        </div>
        
        <div class="moon-container">
            <div class="date-display" id="current-date">13 enero 2025</div>
            <div class="phase-display" id="current-phase">Luna llena</div>
            <div class="distance-display" id="current-distance">Distancia: 383.921 km</div>
            
            <svg class="moon-display" viewBox="0 0 100 100">
                <!-- Fondo de la luna (siempre visible) -->
                <circle cx="50" cy="50" r="45" fill="#f5f5f5" stroke="#ddd" stroke-width="0.5"/>
                <!-- Sombra que cambia según la fase -->
                <path id="moon-shadow" fill="#2c3e50"/>
            </svg>
        </div>
        
        <div class="navigation">
            <button id="prev-btn">&lt; Anterior</button>
            <button id="today-btn">Hoy</button>
            <button id="next-btn">Siguiente &gt;</button>
        </div>
        
        <div class="legend">
            <p><strong>Leyenda:</strong></p>
            <p>• <span class="super-moon">Superluna</span>: Cuando la luna llena coincide con el perigeo (máxima cercanía a la Tierra)</p>
            <p>• La distancia promedio Tierra-Luna es de aproximadamente 384,400 km</p>
        </div>
    </div>

    <script>
        // Datos de las fases lunares
        const moonPhases = [
            // 2025
            {phase: "Cuarto creciente", date: "7 enero 2025", time: "00:57:35", distance: "363.350 km"},
            {phase: "Luna llena", date: "13 enero 2025", time: "23:27:44", distance: "383.921 km"},
            {phase: "Cuarto menguante", date: "21 enero 2025", time: "21:32:11", distance: "405.217 km"},
            {phase: "Luna nueva", date: "29 enero 2025", time: "13:37:18", distance: "377.603 km"},
            {phase: "Cuarto creciente", date: "5 febrero 2025", time: "09:03:50", distance: "364.675 km"},
            {phase: "Luna llena", date: "12 febrero 2025", time: "14:54:26", distance: "393.590 km"},
            {phase: "Cuarto menguante", date: "20 febrero 2025", time: "18:34:40", distance: "401.134 km"},
            {phase: "Luna nueva", date: "28 febrero 2025", time: "01:46:43", distance: "369.575 km"},
            {phase: "Cuarto creciente", date: "6 marzo 2025", time: "17:33:39", distance: "369.661 km"},
            {phase: "Luna llena", date: "14 marzo 2025", time: "07:55:56", distance: "401.321 km"},
            {phase: "Cuarto menguante", date: "22 marzo 2025", time: "12:32:05", distance: "393.381 km"},
            {phase: "Luna nueva", date: "29 marzo 2025", time: "12:00:07", distance: "364.625 km"},
            {phase: "Cuarto creciente", date: "5 abril 2025", time: "04:16:44", distance: "377.469 km"},
            {phase: "Luna llena", date: "13 abril 2025", time: "02:23:56", distance: "405.224 km"},
            {phase: "Cuarto menguante", date: "21 abril 2025", time: "03:37:41", distance: "384.010 km"},
            {phase: "Luna nueva", date: "27 abril 2025", time: "21:33:22", distance: "363.341 km"},
            {phase: "Cuarto creciente", date: "4 mayo 2025", time: "15:53:27", distance: "386.750 km"},
            {phase: "Luna llena", date: "12 mayo 2025", time: "18:58:06", distance: "404.528 km"},
            {phase: "Cuarto menguante", date: "20 mayo 2025", time: "14:00:30", distance: "375.066 km"},
            {phase: "Luna nueva", date: "27 mayo 2025", time: "05:04:25", distance: "365.662 km"},
            {phase: "Cuarto creciente", date: "3 junio 2025", time: "05:41:54", distance: "395.715 km"},
            {phase: "Luna llena", date: "11 junio 2025", time: "09:46:06", distance: "399.631 km"},
            {phase: "Cuarto menguante", date: "18 junio 2025", time: "21:20:58", distance: "368.113 km"},
            {phase: "Luna nueva", date: "25 junio 2025", time: "12:33:30", distance: "371.161 km"},
            {phase: "Cuarto creciente", date: "2 julio 2025", time: "21:30:19", distance: "402.446 km"},
            {phase: "Luna llena", date: "10 julio 2025", time: "22:38:54", distance: "391.745 km"},
            {phase: "Cuarto menguante", date: "18 julio 2025", time: "02:39:41", distance: "364.103 km"},
            {phase: "Luna nueva", date: "24 julio 2025", time: "21:12:27", distance: "379.121 km"},
            {phase: "Cuarto creciente", date: "1 agosto 2025", time: "14:41:12", distance: "405.433 km"},
            {phase: "Luna llena", date: "9 agosto 2025", time: "09:57:07", distance: "382.533 km"},
            {phase: "Cuarto menguante", date: "16 agosto 2025", time: "07:14:26", distance: "363.477 km"},
            {phase: "Luna nueva", date: "23 agosto 2025", time: "08:07:06", distance: "388.373 km"},
            {phase: "Cuarto creciente", date: "31 agosto 2025", time: "08:25:30", distance: "403.981 km"},
            {phase: "Luna llena", date: "7 septiembre 2025", time: "20:10:41", distance: "373.798 km"},
            {phase: "Cuarto menguante", date: "14 septiembre 2025", time: "12:35:09", distance: "366.326 km"},
            {phase: "Luna nueva", date: "21 septiembre 2025", time: "21:54:36", distance: "397.161 km"},
            {phase: "Cuarto creciente", date: "30 septiembre 2025", time: "01:54:47", distance: "398.327 km"},
            {phase: "Luna llena", date: "7 octubre 2025", time: "05:48:57", distance: "367.133 km"},
            {phase: "Cuarto menguante", date: "13 octubre 2025", time: "20:14:31", distance: "372.444 km"},
            {phase: "Luna nueva", date: "21 octubre 2025", time: "14:25:58", distance: "403.422 km"},
            {phase: "Cuarto creciente", date: "29 octubre 2025", time: "17:22:01", distance: "389.643 km"},
            {phase: "Luna llena (Superluna)", date: "5 noviembre 2025", time: "14:20:26", distance: "363.654 km"},
            {phase: "Cuarto menguante", date: "12 noviembre 2025", time: "06:29:37", distance: "381.150 km"},
            {phase: "Luna nueva", date: "20 noviembre 2025", time: "07:48:16", distance: "405.493 km"},
            {phase: "Cuarto creciente", date: "28 noviembre 2025", time: "07:59:45", distance: "379.893 km"},
            {phase: "Luna llena (Superluna)", date: "5 diciembre 2025", time: "00:15:18", distance: "363.932 km"},
            {phase: "Cuarto menguante", date: "11 diciembre 2025", time: "21:52:48", distance: "390.957 km"},
            {phase: "Luna nueva", date: "20 diciembre 2025", time: "02:44:25", distance: "402.721 km"},
            {phase: "Cuarto creciente", date: "27 diciembre 2025", time: "20:10:38", distance: "371.274 km"},
            
            // 2026
            {phase: "Luna llena", date: "3 enero 2026", time: "11:04:15", distance: "368.037 km"},
            {phase: "Cuarto menguante", date: "10 enero 2026", time: "16:49:14", distance: "399.571 km"},
            {phase: "Luna nueva", date: "18 enero 2026", time: "20:53:17", distance: "395.713 km"},
            {phase: "Cuarto creciente", date: "26 enero 2026", time: "05:48:23", distance: "365.467 km"},
            {phase: "Luna llena", date: "1 febrero 2026", time: "23:10:36", distance: "375.462 km"},
            {phase: "Cuarto menguante", date: "9 febrero 2026", time: "13:44:43", distance: "404.695 km"},
            {phase: "Luna nueva", date: "17 febrero 2026", time: "13:03:05", distance: "386.252 km"},
            {phase: "Cuarto creciente", date: "24 febrero 2026", time: "13:28:59", distance: "363.305 km"},
            {phase: "Luna llena", date: "3 marzo 2026", time: "12:39:12", distance: "384.909 km"},
            {phase: "Cuarto menguante", date: "11 marzo 2026", time: "10:41:34", distance: "405.048 km"},
            {phase: "Luna nueva", date: "19 marzo 2026", time: "02:26:01", distance: "376.710 km"},
            {phase: "Cuarto creciente", date: "25 marzo 2026", time: "20:19:22", distance: "364.930 km"},
            {phase: "Luna llena", date: "2 abril 2026", time: "04:13:20", distance: "394.353 km"},
            {phase: "Cuarto menguante", date: "10 abril 2026", time: "06:55:20", distance: "400.730 km"},
            {phase: "Luna nueva", date: "17 abril 2026", time: "13:54:18", distance: "369.094 km"},
            {phase: "Cuarto creciente", date: "24 abril 2026", time: "04:33:22", distance: "370.014 km"},
            {phase: "Luna llena", date: "1 mayo 2026", time: "19:24:43", distance: "401.650 km"},
            {phase: "Cuarto menguante", date: "9 mayo 2026", time: "23:13:44", distance: "392.988 km"},
            {phase: "Luna nueva", date: "16 mayo 2026", time: "22:03:07", distance: "364.508 km"},
            {phase: "Cuarto creciente", date: "23 mayo 2026", time: "13:12:05", distance: "377.787 km"},
            {phase: "Luna llena", date: "31 mayo 2026", time: "10:46:46", distance: "405.260 km"},
            {phase: "Cuarto menguante", date: "8 junio 2026", time: "12:03:04", distance: "383.744 km"},
            {phase: "Luna nueva", date: "15 junio 2026", time: "04:56:00", distance: "363.346 km"},
            {phase: "Cuarto creciente", date: "21 junio 2026", time: "23:55:57", distance: "386.962 km"},
            {phase: "Luna llena", date: "30 junio 2026", time: "01:58:10", distance: "404.522 km"},
            {phase: "Cuarto menguante", date: "7 julio 2026", time: "21:30:54", distance: "374.948 km"},
            {phase: "Luna nueva", date: "14 julio 2026", time: "11:45:07", distance: "365.646 km"},
            {phase: "Cuarto creciente", date: "21 julio 2026", time: "13:05:48", distance: "395.811 km"},
            {phase: "Luna llena", date: "29 julio 2026", time: "16:37:11", distance: "399.627 km"},
            {phase: "Cuarto menguante", date: "6 agosto 2026", time: "04:22:53", distance: "368.086 km"},
            {phase: "Luna nueva", date: "12 agosto 2026", time: "19:37:37", distance: "371.197 km"},
            {phase: "Cuarto creciente", date: "20 agosto 2026", time: "04:46:34", distance: "402.485 km"},
            {phase: "Luna llena", date: "28 agosto 2026", time: "06:19:57", distance: "391.604 km"},
            {phase: "Cuarto menguante", date: "4 septiembre 2026", time: "09:52:21", distance: "364.089 km"},
            {phase: "Luna nueva", date: "11 septiembre 2026", time: "05:27:18", distance: "379.359 km"},
            {phase: "Cuarto creciente", date: "18 septiembre 2026", time: "22:44:25", distance: "405.446 km"},
            {phase: "Luna llena", date: "26 septiembre 2026", time: "18:50:21", distance: "382.195 km"},
            {phase: "Cuarto menguante", date: "3 octubre 2026", time: "15:26:15", distance: "363.503 km"},
            {phase: "Luna nueva", date: "10 octubre 2026", time: "17:50:11", distance: "388.830 km"},
            {phase: "Cuarto creciente", date: "18 octubre 2026", time: "18:13:37", distance: "403.817 km"},
            {phase: "Luna llena", date: "26 octubre 2026", time: "05:13:07", distance: "373.370 km"},
            {phase: "Cuarto menguante", date: "1 noviembre 2026", time: "21:30:02", distance: "366.576 km"},
            {phase: "Luna nueva", date: "9 noviembre 2026", time: "08:02:30", distance: "397.677 km"},
            {phase: "Cuarto creciente", date: "17 noviembre 2026", time: "12:48:31", distance: "397.746 km"},
            {phase: "Luna llena", date: "24 noviembre 2026", time: "15:55:02", distance: "366.778 km"},
            {phase: "Cuarto menguante", date: "1 diciembre 2026", time: "07:10:28", distance: "373.115 km"},
            {phase: "Luna nueva", date: "9 diciembre 2026", time: "01:52:49", distance: "403.766 km"},
            {phase: "Cuarto creciente", date: "17 diciembre 2026", time: "06:43:09", distance: "388.662 km"},
            {phase: "Luna llena (Superluna)", date: "24 diciembre 2026", time: "02:29:47", distance: "363.525 km"},
            {phase: "Cuarto menguante", date: "30 diciembre 2026", time: "20:00:57", distance: "382.187 km"}
        ];

        // Procesar fechas y convertir a objetos Date
        moonPhases.forEach(phase => {
            const [day, month, year] = phase.date.split(' ');
            const months = {
                'enero': 0, 'febrero': 1, 'marzo': 2, 'abril': 3, 'mayo': 4, 'junio': 5,
                'julio': 6, 'agosto': 7, 'septiembre': 8, 'octubre': 9, 'noviembre': 10, 'diciembre': 11
            };
            phase.dateObj = new Date(year, months[month], parseInt(day));
        });

        // Ordenar por fecha
        moonPhases.sort((a, b) => a.dateObj - b.dateObj);

        // Variables de estado
        let currentIndex = 1; // Empezamos con la primera luna llena de 2025
        let timeUnit = 'day'; // Unidad de tiempo por defecto

        // Elementos del DOM
        const currentDateEl = document.getElementById('current-date');
        const currentPhaseEl = document.getElementById('current-phase');
        const currentDistanceEl = document.getElementById('current-distance');
        const moonShadowEl = document.getElementById('moon-shadow');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const todayBtn = document.getElementById('today-btn');
        const dayUnitBtn = document.getElementById('day-unit');
        const weekUnitBtn = document.getElementById('week-unit');
        const monthUnitBtn = document.getElementById('month-unit');
        const yearUnitBtn = document.getElementById('year-unit');

        // Función para actualizar la visualización
        function updateDisplay() {
            const currentPhase = moonPhases[currentIndex];
            
            // Actualizar texto
            currentDateEl.textContent = currentPhase.date;
            currentPhaseEl.textContent = currentPhase.phase;
            currentDistanceEl.textContent = `Distancia: ${currentPhase.distance}`;
            
            // Resaltar superlunas
            if (currentPhase.phase.includes('Superluna')) {
                currentPhaseEl.classList.add('super-moon');
            } else {
                currentPhaseEl.classList.remove('super-moon');
            }
            
            // Actualizar gráfico de la luna
            updateMoonGraphic(currentPhase.phase);
        }

        // Función para actualizar el gráfico de la luna según la fase
        function updateMoonGraphic(phase) {
            let shadowPath;
            
            switch(phase) {
                case 'Luna nueva':
                    shadowPath = 'M50,5 A45,45 0 1,1 50,95 A45,45 0 1,1 50,5';
                    break;
                case 'Cuarto creciente':
                    shadowPath = 'M50,5 A45,45 0 0,1 50,95 A45,45 0 0,0 50,5';
                    break;
                case 'Luna llena':
                case 'Luna llena (Superluna)':
                    shadowPath = '';
                    break;
                case 'Cuarto menguante':
                    shadowPath = 'M50,5 A45,45 0 0,0 50,95 A45,45 0 0,1 50,5';
                    break;
                default:
                    // Para fases intermedias (creciente o menguante)
                    if (phase.includes('creciente')) {
                        // Luna creciente (más que cuarto pero menos que llena)
                        shadowPath = 'M50,5 A45,45 0 0,1 50,95 A22.5,22.5 0 0,0 50,5';
                    } else if (phase.includes('menguante')) {
                        // Luna menguante (más que cuarto pero menos que nueva)
                        shadowPath = 'M50,5 A22.5,22.5 0 0,0 50,95 A45,45 0 0,1 50,5';
                    } else {
                        shadowPath = '';
                    }
            }
            
            moonShadowEl.setAttribute('d', shadowPath);
        }

        // Función para navegar a la fase anterior
        function goToPreviousPhase() {
            let step = 1;
            
            switch(timeUnit) {
                case 'week': step = 7; break;
                case 'month': step = 30; break;
                case 'year': step = 365; break;
            }
            
            // Encontrar la fase más cercana pero anterior
            const currentDate = moonPhases[currentIndex].dateObj;
            const targetDate = new Date(currentDate);
            targetDate.setDate(targetDate.getDate() - step);
            
            let newIndex = 0;
            for (let i = moonPhases.length - 1; i >= 0; i--) {
                if (moonPhases[i].dateObj <= targetDate) {
                    newIndex = i;
                    break;
                }
            }
            
            currentIndex = newIndex;
            updateDisplay();
        }

        // Función para navegar a la fase siguiente
        function goToNextPhase() {
            let step = 1;
            
            switch(timeUnit) {
                case 'week': step = 7; break;
                case 'month': step = 30; break;
                case 'year': step = 365; break;
            }
            
            // Encontrar la fase más cercana pero posterior
            const currentDate = moonPhases[currentIndex].dateObj;
            const targetDate = new Date(currentDate);
            targetDate.setDate(targetDate.getDate() + step);
            
            let newIndex = moonPhases.length - 1;
            for (let i = 0; i < moonPhases.length; i++) {
                if (moonPhases[i].dateObj >= targetDate) {
                    newIndex = i;
                    break;
                }
            }
            
            currentIndex = newIndex;
            updateDisplay();
        }

        // Función para ir a la fecha actual
        function goToToday() {
            const today = new Date();
            today.setHours(0, 0, 0, 0);
            
            let closestIndex = 0;
            let smallestDiff = Infinity;
            
            for (let i = 0; i < moonPhases.length; i++) {
                const diff = Math.abs(moonPhases[i].dateObj - today);
                if (diff < smallestDiff) {
                    smallestDiff = diff;
                    closestIndex = i;
                }
            }
            
            currentIndex = closestIndex;
            updateDisplay();
        }

        // Función para cambiar la unidad de tiempo
        function setTimeUnit(unit) {
            timeUnit = unit;
            
            // Actualizar botones activos
            dayUnitBtn.classList.remove('active');
            weekUnitBtn.classList.remove('active');
            monthUnitBtn.classList.remove('active');
            yearUnitBtn.classList.remove('active');
            
            switch(unit) {
                case 'day': dayUnitBtn.classList.add('active'); break;
                case 'week': weekUnitBtn.classList.add('active'); break;
                case 'month': monthUnitBtn.classList.add('active'); break;
                case 'year': yearUnitBtn.classList.add('active'); break;
            }
        }

        // Event listeners
        prevBtn.addEventListener('click', goToPreviousPhase);
        nextBtn.addEventListener('click', goToNextPhase);
        todayBtn.addEventListener('click', goToToday);
        dayUnitBtn.addEventListener('click', () => setTimeUnit('day'));
        weekUnitBtn.addEventListener('click', () => setTimeUnit('week'));
        monthUnitBtn.addEventListener('click', () => setTimeUnit('month'));
        yearUnitBtn.addEventListener('click', () => setTimeUnit('year'));

        // Inicializar
        updateDisplay();
    </script>
</body>
</html>